# ç¬¬ 5 è¯¾ï¼šå‡½æ•° ğŸ”§

å‡½æ•°æ˜¯å¯é‡å¤ä½¿ç”¨çš„ä»£ç å—ã€‚æœ¬è¯¾å°†å­¦ä¹ å¦‚ä½•ç¼–å†™å’Œä½¿ç”¨å‡½æ•°ã€‚

---

## 5.1 ä¸ºä»€ä¹ˆéœ€è¦å‡½æ•°ï¼Ÿ

æƒ³è±¡ä½ è¦åš 10 æ¬¡åŒæ ·çš„è®¡ç®—ã€‚ä½ ä¼šå¤åˆ¶ç²˜è´´ä»£ç  10 æ¬¡å—ï¼ŸâŒ

**å‡½æ•°çš„å¥½å¤„ï¼š**
- ğŸ”„ **ä»£ç å¤ç”¨** - å†™ä¸€æ¬¡ï¼Œç”¨å¤šæ¬¡
- ğŸ§¹ **ä»£ç æ•´æ´** - é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºç†è§£
- ğŸ› **æ˜“äºè°ƒè¯•** - é—®é¢˜å®šä½æ›´ç®€å•
- ğŸ¤ **å›¢é˜Ÿåä½œ** - ä¸åŒäººå†™ä¸åŒå‡½æ•°

---

## 5.2 å‡½æ•°çš„ç»“æ„

```c
è¿”å›ç±»å‹ å‡½æ•°å (å‚æ•°åˆ—è¡¨) {
    // å‡½æ•°ä½“
    // æ‰§è¡Œçš„ä»£ç 
    
    return è¿”å›å€¼;  // å¦‚æœè¿”å›ç±»å‹ä¸æ˜¯ void
}
```

### ç¤ºä¾‹ï¼šè®¡ç®—å¹³æ–¹

```c
// å‡½æ•°å®šä¹‰
int square(int x) {
    return x * x;
}

// å‡½æ•°è°ƒç”¨
int result = square(5);  // result = 25
```

---

## 5.3 å‡½æ•°çš„ç»„æˆéƒ¨åˆ†

```c
    int      add       (int a, int b)
    â†“        â†“         â†“
  è¿”å›ç±»å‹  å‡½æ•°å    å‚æ•°åˆ—è¡¨
                      {
                          return a + b;  // å‡½æ•°ä½“
                      }
```

### è¯¦ç»†è¯´æ˜

| éƒ¨åˆ† | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **è¿”å›ç±»å‹** | å‡½æ•°è¿”å›å€¼çš„ç±»å‹ | `int`, `float`, `void` |
| **å‡½æ•°å** | å‡½æ•°çš„åå­— | `calculate_score` |
| **å‚æ•°åˆ—è¡¨** | ä¼ å…¥å‡½æ•°çš„å€¼ | `(int x, int y)` |
| **å‡½æ•°ä½“** | å®é™…æ‰§è¡Œçš„ä»£ç  | `{ ... }` |
| **è¿”å›å€¼** | å‡½æ•°æ‰§è¡Œçš„ç»“æœ | `return result;` |

---

## 5.4 å‡½æ•°çš„å£°æ˜ä¸å®šä¹‰

### å£°æ˜ï¼ˆåœ¨å¤´æ–‡ä»¶ä¸­ï¼‰
```c
// snake.h
int snake_get_length(snake_t* snake);
void snake_move(snake_t* snake);
```

### å®šä¹‰ï¼ˆåœ¨æºæ–‡ä»¶ä¸­ï¼‰
```c
// snake.c
#include "snake.h"

int snake_get_length(snake_t* snake) {
    return snake->length;
}

void snake_move(snake_t* snake) {
    // ç§»åŠ¨è›‡çš„é€»è¾‘
}
```

---

## 5.5 è´ªåƒè›‡ä¸­çš„å‡½æ•°ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šæ— å‚æ•°æ— è¿”å›å€¼
```c
void clear_screen(void) {
    printf("\033[2J\033[H");  // æ¸…å±è½¬ä¹‰åºåˆ—
}
```

### ç¤ºä¾‹ 2ï¼šæœ‰å‚æ•°æ— è¿”å›å€¼
```c
void draw_char(int x, int y, char ch) {
    printf("\033[%d;%dH%c", y, x, ch);
}
```

### ç¤ºä¾‹ 3ï¼šæœ‰å‚æ•°æœ‰è¿”å›å€¼
```c
int calculate_score(int food_eaten, int level) {
    return food_eaten * 10 * level;
}
```

### ç¤ºä¾‹ 4ï¼šå¤šä¸ªå‚æ•°
```c
bool check_collision(int snake_x, int snake_y, 
                     int wall_x, int wall_y) {
    return (snake_x == wall_x && snake_y == wall_y);
}
```

---

## 5.6 å‡½æ•°è°ƒç”¨æ–¹å¼

```c
// 1. ç›´æ¥ä½¿ç”¨è¿”å›å€¼
int result = square(5);

// 2. ä½œä¸ºå…¶ä»–å‡½æ•°çš„å‚æ•°
printf("ç»“æœæ˜¯ï¼š%d\n", square(5));

// 3. å¿½ç•¥è¿”å›å€¼ï¼ˆvoid å‡½æ•°ï¼‰
clear_screen();

// 4. åœ¨æ¡ä»¶è¯­å¥ä¸­
if (check_collision(x, y, wall_x, wall_y)) {
    game_over();
}
```

---

## 5.7 ä½œç”¨åŸŸè§„åˆ™

```c
int global_var = 100;  // å…¨å±€å˜é‡ï¼Œä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®

void function1(void) {
    int local_var = 50;  // å±€éƒ¨å˜é‡ï¼Œåªåœ¨å‡½æ•°å†…æœ‰æ•ˆ
    printf("%d\n", global_var);  // âœ… å¯ä»¥è®¿é—®
    printf("%d\n", local_var);   // âœ… å¯ä»¥è®¿é—®
}

void function2(void) {
    printf("%d\n", global_var);  // âœ… å¯ä»¥è®¿é—®
    printf("%d\n", local_var);   // âŒ é”™è¯¯ï¼local_var ä¸å­˜åœ¨äºæ­¤
}
```

### ä½œç”¨åŸŸè§„åˆ™æ€»ç»“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…¨å±€ä½œç”¨åŸŸ                          â”‚
â”‚  int global_var;                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  å‡½æ•° 1 å±€éƒ¨ä½œç”¨åŸŸ            â”‚    â”‚
â”‚  â”‚  int local1;                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  å‡½æ•° 2 å±€éƒ¨ä½œç”¨åŸŸ            â”‚    â”‚
â”‚  â”‚  int local2;                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5.8 é€’å½’å‡½æ•°ï¼ˆç®€ä»‹ï¼‰

å‡½æ•°å¯ä»¥è°ƒç”¨è‡ªå·±ï¼Œè¿™å«é€’å½’ï¼š

```c
// è®¡ç®—é˜¶ä¹˜ï¼š5! = 5 Ã— 4 Ã— 3 Ã— 2 Ã— 1 = 120
int factorial(int n) {
    if (n <= 1) {
        return 1;  // åŸºç¡€æƒ…å†µ
    }
    return n * factorial(n - 1);  // é€’å½’è°ƒç”¨
}

int main(void) {
    int result = factorial(5);  // result = 120
    printf("5! = %d\n", result);
    return 0;
}
```

---

## 5.9 å®æˆ˜ï¼šé‡æ„è´ªåƒè›‡ä»£ç 

### é‡æ„å‰ï¼ˆæ‰€æœ‰ä»£ç åœ¨ main ä¸­ï¼‰
```c
int main(void) {
    // åˆå§‹åŒ–
    int score = 0;
    int snake_x = 10, snake_y = 10;
    
    // æ¸¸æˆå¾ªç¯
    while (1) {
        // å¤„ç†è¾“å…¥
        // æ›´æ–°è›‡ä½ç½®
        snake_x += 1;
        
        // æ£€æŸ¥ç¢°æ’
        if (snake_x >= 80) {
            printf("Game Over!\n");
            break;
        }
        
        // ç»˜åˆ¶
        printf("Snake at (%d, %d)\n", snake_x, snake_y);
    }
    
    return 0;
}
```

### é‡æ„åï¼ˆä½¿ç”¨å‡½æ•°ï¼‰
```c
void init_game(game_t* game) {
    game->score = 0;
    game->snake_x = 10;
    game->snake_y = 10;
}

void update_snake(snake_t* snake) {
    snake->x += 1;
}

bool check_wall_collision(snake_t* snake, int width) {
    return snake->x >= width;
}

void render_game(game_t* game) {
    printf("Snake at (%d, %d)\n", game->snake_x, game->snake_y);
}

int main(void) {
    game_t game;
    init_game(&game);
    
    while (1) {
        update_snake(&game.snake);
        
        if (check_wall_collision(&game.snake, 80)) {
            printf("Game Over!\n");
            break;
        }
        
        render_game(&game);
    }
    
    return 0;
}
```

---

## âœ… æœ¬è¯¾æ£€æŸ¥æ¸…å•

- [ ] ç†è§£å‡½æ•°çš„ä½œç”¨
- [ ] ä¼šå®šä¹‰å’Œè°ƒç”¨å‡½æ•°
- [ ] ç†è§£å‚æ•°å’Œè¿”å›å€¼
- [ ] ç†è§£ä½œç”¨åŸŸè§„åˆ™
- [ ] çŸ¥é“å¦‚ä½•ç»„ç»‡ä»£ç åˆ°å‡½æ•°ä¸­

---

## ğŸ“ ä½œä¸š

1. ç¼–å†™ä¸€ä¸ªå‡½æ•° `int max(int a, int b)`ï¼Œè¿”å›ä¸¤ä¸ªæ•°ä¸­çš„è¾ƒå¤§å€¼

2. ç¼–å†™ä¸€ä¸ªå‡½æ•° `void print_box(int width, int height)`ï¼Œæ‰“å°æŒ‡å®šå¤§å°çš„çŸ©å½¢æ¡†

3. å°†ä½ çš„è´ªåƒè›‡ä»£ç ä¸­çš„åŠŸèƒ½åˆ†è§£æˆå‡½æ•°ï¼š
   - `init_game()` - åˆå§‹åŒ–æ¸¸æˆ
   - `handle_input()` - å¤„ç†è¾“å…¥
   - `update_game()` - æ›´æ–°æ¸¸æˆçŠ¶æ€
   - `render_game()` - ç»˜åˆ¶ç”»é¢

---

ä¸‹ä¸€è¯¾ï¼š[ç»“æ„ä½“](06-ç»“æ„ä½“.md)
