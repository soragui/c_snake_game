# ç¬¬ 2 è¯¾ï¼šé¡¹ç›®ç»“æ„ ğŸ“

è‰¯å¥½çš„é¡¹ç›®ç»“æ„æ˜¯æˆåŠŸç¼–ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚æœ¬è¯¾å°†ä»‹ç»å¦‚ä½•ç»„ç»‡ C è¯­è¨€é¡¹ç›®ã€‚

---

## 2.1 ä¸ºä»€ä¹ˆéœ€è¦é¡¹ç›®ç»“æ„ï¼Ÿ

æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ æŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½æ‰”è¿›ä¸€ä¸ªæˆ¿é—´ï¼Œæ‰¾ä¸œè¥¿ä¼šæœ‰å¤šå›°éš¾ï¼ä»£ç ä¹Ÿæ˜¯ä¸€æ ·ã€‚è‰¯å¥½çš„ç»“æ„å¸®åŠ©æˆ‘ä»¬ï¼š

- ğŸ¯ å¿«é€Ÿæ‰¾åˆ°éœ€è¦çš„æ–‡ä»¶
- ğŸ§¹ ä¿æŒä»£ç æ•´æ´
- ğŸ¤ æ–¹ä¾¿ä¸ä»–äººåˆä½œ
- ğŸ“¦ æ˜“äºæ‰“åŒ…å’Œåˆ†äº«

---

## 2.2 æˆ‘ä»¬çš„è´ªåƒè›‡é¡¹ç›®ç»“æ„

```
snake_game/
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.c              # ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ game.c / game.h     # æ¸¸æˆæ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ snake.c / snake.h   # è›‡çš„å®ç°
â”‚   â”œâ”€â”€ food.c / food.h     # é£Ÿç‰©ç³»ç»Ÿ
â”‚   â”œâ”€â”€ ui.c / ui.h         # ç”¨æˆ·ç•Œé¢
â”‚   â”œâ”€â”€ input.c / input.h   # è¾“å…¥å¤„ç†
â”‚   â”œâ”€â”€ score.c / score.h   # åˆ†æ•°ç³»ç»Ÿ
â”‚   â””â”€â”€ utils.c / utils.h   # å·¥å…·å‡½æ•°
â”œâ”€â”€ docs/                   # æ–‡æ¡£ç›®å½•
â”‚   â””â”€â”€ æ•™ç¨‹æ–‡ä»¶...
â”œâ”€â”€ data/                   # æ¸¸æˆæ•°æ®
â”‚   â””â”€â”€ highscore.txt       # æœ€é«˜åˆ†è®°å½•
â”œâ”€â”€ obj/                    # ç¼–è¯‘ä¸­é—´æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ Makefile                # æ„å»ºé…ç½®æ–‡ä»¶
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜
â””â”€â”€ .gitignore              # Git å¿½ç•¥æ–‡ä»¶
```

---

## 2.3 æ–‡ä»¶å‘½åè§„èŒƒ

### C è¯­è¨€æ–‡ä»¶ç±»å‹

| æ‰©å±•å | ç”¨é€” | è¯´æ˜ |
|--------|------|------|
| `.c` | æºæ–‡ä»¶ | åŒ…å«å®é™…çš„ä»£ç å®ç° |
| `.h` | å¤´æ–‡ä»¶ | åŒ…å«å‡½æ•°å£°æ˜ã€ç±»å‹å®šä¹‰ã€å® |

### å‘½åè§„åˆ™

```c
// âœ… å¥½çš„å‘½å
main.c          // æ¸…æ™°æ˜äº†
snake.c         // å°å†™å­—æ¯ï¼Œæœ‰æ„ä¹‰
game_state.h    // å¤šä¸ªå•è¯ç”¨ä¸‹åˆ’çº¿è¿æ¥

// âŒ ä¸å¥½çš„å‘½å
Main.C          // å¤§å°å†™æ··ä¹±
1snake.c        // æ•°å­—å¼€å¤´
my super file.c // åŒ…å«ç©ºæ ¼
```

---

## 2.4 æºæ–‡ä»¶ vs å¤´æ–‡ä»¶

### æºæ–‡ä»¶ (.c)

æºæ–‡ä»¶åŒ…å«**å®é™…çš„ä»£ç å®ç°**ï¼š

```c
// snake.c
#include "snake.h"

snake_t* snake_create(int x, int y) {
    // å®é™…çš„å®ç°ä»£ç 
    snake_t* snake = malloc(sizeof(snake_t));
    // ... æ›´å¤šä»£ç 
    return snake;
}
```

### å¤´æ–‡ä»¶ (.h)

å¤´æ–‡ä»¶åŒ…å«**å£°æ˜å’Œæ¥å£**ï¼š

```c
// snake.h
#ifndef SNAKE_H
#define SNAKE_H

// ç±»å‹å£°æ˜
typedef struct snake snake_t;

// å‡½æ•°å£°æ˜
snake_t* snake_create(int x, int y);
void snake_destroy(snake_t* snake);

#endif
```

### ä¸ºä»€ä¹ˆè¦åˆ†å¼€ï¼Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤´æ–‡ä»¶ (.h)              æºæ–‡ä»¶ (.c)            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚  "æˆ‘èƒ½åšä»€ä¹ˆ"              "æˆ‘æ€ä¹ˆåš"              â”‚
â”‚  èœå•                      å¨æˆ¿é‡Œçš„å®é™…çƒ¹é¥ª        â”‚
â”‚  æ¥å£                      å®ç°                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2.5 åŠ¨æ‰‹åˆ›å»ºé¡¹ç›®ç»“æ„

è®©æˆ‘ä»¬åˆ›å»ºå®Œæ•´çš„é¡¹ç›®ç»“æ„ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd ~/c_projects/snake_game

# åˆ›å»ºæºä»£ç ç›®å½•
mkdir -p src

# åˆ›å»ºæ•°æ®ç›®å½•
mkdir -p data

# åˆ›å»ºç©ºæ–‡ä»¶
touch src/main.c
touch src/game.c src/game.h
touch src/snake.c src/snake.h
touch src/food.c src/food.h
touch src/ui.c src/ui.h
touch src/input.c src/input.h
touch src/score.c src/score.h
touch src/utils.c src/utils.h

# åˆ›å»º README.md
touch README.md

# æŸ¥çœ‹ç»“æ„
tree . 2>/dev/null || find . -type f | head -20
```

---

## 2.6 ç†è§£ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„

```bash
# ç»å¯¹è·¯å¾„ - ä»æ ¹ç›®å½•å¼€å§‹çš„å®Œæ•´è·¯å¾„
/home/user/c_projects/snake_game/src/main.c

# ç›¸å¯¹è·¯å¾„ - ä»å½“å‰ç›®å½•å¼€å§‹çš„è·¯å¾„
# å‡è®¾å½“å‰åœ¨ snake_game ç›®å½•
src/main.c          # ./src/main.c çš„ç®€å†™
../other/file.c     # ä¸Šä¸€çº§ç›®å½•ä¸­çš„æ–‡ä»¶
./main.c            # å½“å‰ç›®å½•çš„æ–‡ä»¶ï¼ˆ.è¡¨ç¤ºå½“å‰ç›®å½•ï¼‰
```

### è·¯å¾„ç»ƒä¹ 

```bash
# å‡è®¾ä½ åœ¨ snake_game ç›®å½•
cd ~/c_projects/snake_game

# è¿›å…¥ src ç›®å½•
cd src

# è¿”å› snake_game ç›®å½•
cd ..

# ç›´æ¥ä»ä»»ä½•åœ°æ–¹è¿›å…¥ src ç›®å½•
cd ~/c_projects/snake_game/src

# æŸ¥çœ‹ src ç›®å½•å†…å®¹ä½†ä¸è¿›å…¥
ls ~/c_projects/snake_game/src
```

---

## 2.7 Makefile ç®€ä»‹

Makefile å‘Šè¯‰è®¡ç®—æœºå¦‚ä½•ç¼–è¯‘ä½ çš„é¡¹ç›®ï¼š

```makefile
# ç®€å•çš„ Makefile ç¤ºä¾‹
CC = gcc
CFLAGS = -Wall -g

snake_game: src/main.c src/snake.c
	$(CC) $(CFLAGS) -o snake_game src/main.c src/snake.c

clean:
	rm -f snake_game
```

è¯¦ç»†è®²è§£è§ [ç¬¬ 11 è¯¾ï¼šMakefile](11-Makefile.md)

---

## âœ… æœ¬è¯¾æ£€æŸ¥æ¸…å•

- [ ] ç†è§£æºæ–‡ä»¶å’Œå¤´æ–‡ä»¶çš„åŒºåˆ«
- [ ] ä¼šåˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
- [ ] ç†è§£ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„
- [ ] çŸ¥é“ Makefile çš„ä½œç”¨

---

## ğŸ“ ä½œä¸š

1. åœ¨ä½ çš„é¡¹ç›®ç›®å½•ä¸­åˆ›å»ºå®Œæ•´çš„ç›®å½•ç»“æ„
2. åœ¨æ¯ä¸ª `.h` å¤´æ–‡ä»¶ä¸­æ·»åŠ åŸºæœ¬çš„ä¿æŠ¤å®ï¼š
   ```c
   #ifndef XXX_H
   #define XXX_H
   
   // å†…å®¹...
   
   #endif
   ```
3. åœ¨ `main.c` ä¸­å†™å…¥ï¼š
   ```c
   #include <stdio.h>
   
   int main() {
       printf("Hello, Snake!\n");
       return 0;
   }
   ```

---

ä¸‹ä¸€è¯¾ï¼š[ç¬¬ä¸€ä¸ªç¨‹åº](03-ç¬¬ä¸€ä¸ªç¨‹åº.md)
