# 第 1 课：环境准备 🛠️

在开始编程之前，我们需要准备好开发环境。这一课将介绍必要的工具和 Linux 基础命令。

---

## 1.1 安装必要的软件

### Ubuntu/Debian 系统

打开终端，运行以下命令：

```bash
# 更新软件包列表
sudo apt update

# 安装编译器和必要工具
sudo apt install build-essential gcc make gdb

# 安装 ncurses 开发库（用于终端图形）
sudo apt install libncurses5-dev

# 安装代码编辑器（推荐 VSCode 或 vim）
sudo apt install code  # 或 sudo apt install vim
```

### Fedora/CentOS/RHEL 系统

```bash
# 安装开发工具组
sudo dnf groupinstall "Development Tools"

# 安装 ncurses 开发库
sudo dnf install ncurses-devel

# 安装 gdb 调试器
sudo dnf install gdb
```

### macOS 系统

```bash
# 安装 Xcode 命令行工具
xcode-select --install

# 使用 Homebrew 安装 ncurses
brew install ncurses
```

---

## 1.2 验证安装

安装完成后，验证工具是否正确安装：

```bash
# 检查 GCC 编译器版本
gcc --version

# 检查 Make 版本
make --version

# 检查 GDB 调试器
gdb --version
```

如果看到版本号输出，说明安装成功！✅

---

## 1.3 Linux 终端基础命令

### 文件和目录操作

| 命令 | 说明 | 示例 |
|------|------|------|
| `pwd` | 显示当前目录路径 | `pwd` → `/home/user` |
| `ls` | 列出目录内容 | `ls -la` |
| `cd` | 切换目录 | `cd projects` |
| `mkdir` | 创建目录 | `mkdir myproject` |
| `touch` | 创建空文件 | `touch main.c` |
| `cp` | 复制文件 | `cp file.c file_backup.c` |
| `mv` | 移动/重命名文件 | `mv old.c new.c` |
| `rm` | 删除文件 | `rm file.c` |
| `cat` | 显示文件内容 | `cat file.c` |

### 常用选项说明

```bash
# ls 命令的常用选项
ls          # 简单列出文件
ls -l       # 详细列表（权限、大小、时间）
ls -a       # 显示隐藏文件（以.开头的文件）
ls -la      # 组合选项：详细列表 + 隐藏文件

# cd 命令的快捷方式
cd ..       # 返回上一级目录
cd ~        # 回到用户主目录
cd -        # 回到上一个目录
```

---

## 1.4 文本编辑器

编程需要编写代码，你需要一个文本编辑器。以下是几个选择：

### VSCode（推荐新手）
- 图形界面，易于使用
- 丰富的插件支持
- 内置终端和调试器

```bash
# Ubuntu 安装
sudo snap install code --classic

# 或使用官方仓库
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg
sudo install -D -o root -g root -m 644 packages.microsoft.gpg /etc/apt/keyrings/packages.microsoft.gpg
sudo sh -c 'echo "deb [arch=amd64,arm64,armhf signed-by=/etc/apt/keyrings/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main" > /etc/apt/sources.list.d/vscode.list'
sudo apt update
sudo apt install code
```

### Vim（终端编辑器）
- 终端内使用，无需图形界面
- 学习曲线较陡，但效率极高

```bash
# 基本操作
vim file.c          # 打开文件
i                   # 进入插入模式
ESC                 # 退出插入模式
:w                  # 保存
:q                  # 退出
:wq                 # 保存并退出
:q!                 # 不保存强制退出
```

### Nano（简单终端编辑器）
- 简单易用，适合新手

```bash
nano file.c         # 打开文件
Ctrl+O              # 保存
Ctrl+X              # 退出
```

---

## 1.5 创建项目目录

让我们创建第一个项目目录：

```bash
# 在主目录下创建项目文件夹
cd ~
mkdir -p c_projects/snake_game
cd c_projects/snake_game

# 创建基本目录结构
mkdir src           # 存放源代码
mkdir docs          # 存放文档
mkdir build         # 存放编译产物

# 查看创建的目录
ls -la
```

---

## 1.6 第一个命令练习

试试完成以下练习：

```bash
# 1. 显示当前所在目录
pwd

# 2. 列出当前目录下的所有文件（包括隐藏文件）
ls -la

# 3. 创建一个新目录
mkdir test_dir

# 4. 进入新目录
cd test_dir

# 5. 创建一个空文件
touch hello.c

# 6. 返回上一级目录
cd ..

# 7. 删除测试目录
rm -rf test_dir
```

---

## ✅ 本课检查清单

- [ ] 已安装 GCC 编译器
- [ ] 已安装 Make 工具
- [ ] 已安装 ncurses 库
- [ ] 已安装代码编辑器
- [ ] 会使用 `pwd`, `ls`, `cd`, `mkdir`, `touch` 命令
- [ ] 已创建项目目录结构

---

## 📝 作业

1. 在你的项目目录中创建以下文件结构：
   ```
   snake_game/
   ├── src/
   ├── docs/
   └── README.md
   ```

2. 使用编辑器在 `src/` 目录中创建一个名为 `main.c` 的空文件

3. 使用 `ls -la` 查看创建的文件和目录

---

下一课：[项目结构](02-项目结构.md)
